<?

require_once 'hredis/hredis.php';

$sServer	='10.128.5.28:8000;10.128.5.28:8001;10.128.5.28:8002;10.128.5.28:8003;10.128.5.28:8004;10.128.5.28:8005;10.128.5.28:8006;10.128.5.28:8007;';
$sServer   .='10.128.5.29:8008;10.128.5.29:8009;10.128.5.29:8010;10.128.5.29:8011;10.128.5.29:8012;10.128.5.29:8013;10.128.5.29:8014;10.128.5.29:8015;';
$sServer   .='10.128.5.30:8016;10.128.5.30:8017;10.128.5.30:8018;10.128.5.30:8019;10.128.5.30:8020;10.128.5.30:8021;10.128.5.30:8022;10.128.5.30:8023;';
$sServer   .='10.128.5.31:8024;10.128.5.31:8025;10.128.5.31:8026;10.128.5.31:8027;10.128.5.31:8028;10.128.5.31:8029;10.128.5.31:8030;10.128.5.31:8031;';

######################################################
#insert test
######################################################
$client = new hRedis($sServer);
for ($i = 0; $i < 1000; $i++) {
    $client->set("key:$i", $i * 100000);
}
$client->showStatus();

######################################################
#get test
######################################################
$client = new hRedis($sServer);
for ($i = 0; $i < 1000; $i++) {
    echo $client->get("key:$i") . "\n";
}
$client->showStatus();

######################################################
#delete test
######################################################
$client = new hRedis($sServer);
for ($i = 0; $i < 1000; $i++) {
    $client->del("key:$i");
}
$client->showStatus();

?>
